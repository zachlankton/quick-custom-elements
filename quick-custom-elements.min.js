(()=>{function setupCustomElements(){document.querySelectorAll("template[id]").forEach(e=>setupCustomElement(e));const e=new Event("qce-loaded");document.dispatchEvent(e)}function setupCustomElement(template){const templateContent=template.content,scrAC=templateContent.querySelector("script[attribute-changed]"),attrs=scrAC?scrAC.getAttribute("attribute-changed"):"",name=template.id,_name=name.replace("-","_"),src=template.getAttribute("src");let sourceFile=`//@ sourceURL=${name}`;src&&(sourceFile=`//@ sourceURL=${src}`);class newElm extends HTMLElement{static get observedAttributes(){return eval(attrs)}constructor(){super(),this.attachShadow({mode:"open"}).appendChild(templateContent.cloneNode(!0));const e=this.shadowRoot,t=e.querySelector("script[constructor]"),c=e.querySelector("script[connected]"),r=e.querySelector("script[disconnected]"),n=e.querySelector("script[adopted]"),s=e.querySelector("script[attribute-changed]");t&&(this.qce_constructor=prepareScript(t)),c&&(this.qce_connected=prepareScript(c)),r&&(this.qce_disconnected=prepareScript(r)),n&&(this.qce_adopted=prepareScript(n)),s&&(this.qce_attr_changed=prepareScript(s,"attributeName, oldValue, newValue")),this.qce_constructor&&this.qce_constructor()}connectedCallback(){this.qce_connected&&this.qce_connected()}disconnectedCallback(){this.qce_disconnected&&this.qce_disconnected()}adoptedCallback(){this.qce_adopted&&this.qce_adopted()}attributeChangedCallback(e,t,c){this.qce_attr_changed&&this.qce_attr_changed(e,t,c)}}function prepareScript(script,args=""){const outerTemplate=`/* ${template.outerHTML.replace("*/","/*")} */`,newScript=outerTemplate.replace(script.innerText,`*/ ${script.innerText} ${sourceFile} \n /*`);return script.remove(),eval(`[function ${_name}(${args}){ ${newScript} }][0]`)}customElements.define(name,newElm)}!async function(){const e=document.querySelectorAll("template[src]");for(let t=0;t<e.length;t++){let c=e[t];const r=c.getAttribute("src"),n=await(await fetch(r)).text();c.innerHTML=n}setupCustomElements()}()})();
