(()=>{function setupCustomElements(){let templates=document.querySelectorAll("template[id]");templates.forEach(a=>setupCustomElement(a));let event=new Event("qce-loaded");document.dispatchEvent(event)}function setupCustomElement(template){let templateContent=template.content,scrAC=templateContent.querySelector("script[attribute-changed]"),attrs=scrAC?scrAC.getAttribute("attribute-changed"):"",name=template.id,_name=name.replace("-","_"),src=template.getAttribute("src"),sourceFile=`//@ sourceURL=${name}`;src&&(sourceFile=`//@ sourceURL=${src}`);class newElm extends HTMLElement{static get observedAttributes(){return eval(attrs)}constructor(){super();let g=this.attachShadow({mode:"open"}),a=templateContent.cloneNode(!0),b=a.querySelector("script[constructor]"),c=a.querySelector("script[connected]"),d=a.querySelector("script[disconnected]"),e=a.querySelector("script[adopted]"),f=a.querySelector("script[attribute-changed]");b&&(this.qce_constructor=prepareScript(b)),c&&(this.qce_connected=prepareScript(c)),d&&(this.qce_disconnected=prepareScript(d)),e&&(this.qce_adopted=prepareScript(e)),f&&(this.qce_attr_changed=prepareScript(f,"attributeName, oldValue, newValue")),g.appendChild(a),this.qce_constructor&&this.qce_constructor()}connectedCallback(){this.qce_connected&&this.qce_connected()}disconnectedCallback(){this.qce_disconnected&&this.qce_disconnected()}adoptedCallback(){this.qce_adopted&&this.qce_adopted()}attributeChangedCallback(a,b,c){this.qce_attr_changed&&this.qce_attr_changed(a,b,c)}}function prepareScript(script,args=""){let outerTemplate=`/* ${template.outerHTML.replace("*/","/*")} */`,newScript=outerTemplate.replace(script.innerText,`*/ ${script.innerText} ${sourceFile} \n /*`);return script.remove(),eval(`[function ${_name}(${args}){ ${newScript} }][0]`)}customElements.define(name,newElm)}!async function(){let b=document.querySelectorAll("template[src]");for(let a=0;a<b.length;a++){let c=b[a],d=c.getAttribute("src"),e=await (await fetch(d)).text();c.innerHTML=e}setupCustomElements()}()})()
